# 乡村振兴法律咨询 Demo（v1.1）

一个面向乡村治理与生活场景的**本地可运行法律咨询助手**。整合检索增强生成（RAG）、可达性优先的前端体验、语音输入与流式响应，适合做演示与落地验证。

## 核心能力
- **法条驱动 RAG**：基于 `data/laws/chunks.jsonl` 的 BM25 检索与主题词召回增强，匹配法条片段并生成清晰可执行建议  
- **智能推法条**：仅在“法律相关问题”时推荐法条；非法律问题给出直接建议，避免误导  
- **多轮对话更清晰**：追问不会创建新对话，只有“重新开始”才生成新的历史条目  
- **SSE 流式输出**：实时返回答案与法条卡片，体验更自然  
- **高对比与可达性 UI**：聚焦政务/法律风格，支持键盘焦点、减少动效等  
- **语音输入（ASR）**：基于 Web Speech API 的前端语音识别，识别后写入输入框，点击提问即可

## 快速运行
1. （可选）准备环境变量  
   - 复制 `.env.example` 为 `.env`  
   - 填写 `LLM_API_KEY`、`LLM_MODEL`、`LLM_BASE_URL` 等  
2. 启动服务  
   ```bash
   python demo_server.py
   ```
3. 打开页面  
   - http://localhost:9000

## 目录结构
- `demo_server.py`：后端服务（检索 + 生成 + SSE）  
- `demo/`：前端页面与脚本（含语音识别 `asr_helper.js`）  
- `data/laws/chunks.jsonl`：法条切分后的检索数据  
- `scripts/`：数据处理脚本  
- `Chinese-Laws/`：法条原始文件  
- `ASR/ASR/`：语音识别参考实现与说明  

## 备注
- 语音识别基于浏览器 Web Speech API，建议使用 Chrome/Edge；`localhost` 可直接使用麦克风  
- `.env` 已加入 `.gitignore`，不会提交到仓库  
- 本项目为演示用途，输出不构成法律意见  
